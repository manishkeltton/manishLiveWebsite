{"ast":null,"code":"import _slicedToArray from\"/var/www/html/manishLiveWebsite/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from'react';import EmployeesForm from'./EmployeesForm';import PeopleOutlineTwoToneIcon from'@material-ui/icons/PeopleOutlineTwoTone';import PageHeader from'../../components/PageHeader';import{InputAdornment,makeStyles,Paper,TableBody,TableCell,TableRow,Toolbar}from'@material-ui/core';import useTable from'../../components/controls/useTable';import*as employeeService from\"../../services/employeeService\";import Controls from'../../components/controls/Controls';import Search from'@material-ui/icons/Search';import AddIcon from'@material-ui/icons/Add';import Popup from'../../components/controls/Popup';import EditOutlined from'@material-ui/icons/EditOutlined';import CloseIcon from'@material-ui/icons/Close';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var useStyles=makeStyles(function(theme){return{pageContent:{margin:theme.spacing(5),padding:theme.spacing(3)},searchInput:{width:'75%'},newButton:{position:'absolute',right:'10px'}};});var headCells=[{id:'fullName',label:'Employee Name'},{id:'email',label:'Email Address (personal)'},{id:'mobile',label:'Mobile Number'},{id:'deparment',label:'Department',disableSorting:true},{id:'actions',label:'Actions',disableSorting:true}];export default function Employees(){var classes=useStyles();var _useState=useState(null),_useState2=_slicedToArray(_useState,2),recordForEdit=_useState2[0],setRecordForEdit=_useState2[1];var _useState3=useState(employeeService.getAllEmployees()),_useState4=_slicedToArray(_useState3,2),records=_useState4[0],setRecords=_useState4[1];var _useState5=useState({fn:function fn(items){return items;}}),_useState6=_slicedToArray(_useState5,2),filterFn=_useState6[0],setfilterFn=_useState6[1];var _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),openPopup=_useState8[0],setOpenPopup=_useState8[1];var _useTable=useTable(records,headCells,filterFn),TblContainer=_useTable.TblContainer,TblHead=_useTable.TblHead,TblPagination=_useTable.TblPagination,recordsAfterPagingAndSorting=_useTable.recordsAfterPagingAndSorting;var handleSearch=function handleSearch(e){var target=e.target;setfilterFn({fn:function fn(items){if(target.value==\"\")return items;else return items.filter(function(x){return x.fullName.toLowerCase().includes(target.value);});}});};var addOrEdit=function addOrEdit(employee,resetForm){if(employee.id==0)employeeService.insertEmployee(employee);else employeeService.updateEmployee(employee);resetForm();setRecordForEdit(null);setOpenPopup(false);setRecords(employeeService.getAllEmployees());};var openInPopup=function openInPopup(item){setRecordForEdit(item);setOpenPopup(true);};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(PageHeader,{title:\"New Employee\",subTitle:\"Form design with validation\",icon:/*#__PURE__*/_jsx(PeopleOutlineTwoToneIcon,{fontSize:\"large\"})}),/*#__PURE__*/_jsxs(Paper,{className:classes.pageContent,children:[/*#__PURE__*/_jsxs(Toolbar,{children:[/*#__PURE__*/_jsx(Controls.Input,{label:\"Search Employees\",className:classes.searchInput,InputProps:{startAdorment:/*#__PURE__*/_jsx(InputAdornment,{position:\"start\",children:/*#__PURE__*/_jsx(Search,{})})},onChange:handleSearch}),/*#__PURE__*/_jsx(Controls.Button,{text:\"Add New\",variant:\"outlined\",className:classes.newButton,startIcon:/*#__PURE__*/_jsx(AddIcon,{}),onClick:function onClick(){setOpenPopup(true);setRecordForEdit(null);}})]}),/*#__PURE__*/_jsxs(TblContainer,{children:[/*#__PURE__*/_jsx(TblHead,{}),/*#__PURE__*/_jsx(TableBody,{children:recordsAfterPagingAndSorting().map(function(item){return/*#__PURE__*/_jsxs(TableRow,{children:[/*#__PURE__*/_jsx(TableCell,{children:item.fullName}),/*#__PURE__*/_jsx(TableCell,{children:item.email}),/*#__PURE__*/_jsx(TableCell,{children:item.mobile}),/*#__PURE__*/_jsx(TableCell,{children:item.department}),/*#__PURE__*/_jsxs(TableCell,{children:[/*#__PURE__*/_jsx(Controls.ActionButton,{color:\"primary\",onClick:function onClick(){openInPopup(item);},children:/*#__PURE__*/_jsx(EditOutlined,{fontSize:\"small\"})}),/*#__PURE__*/_jsx(Controls.ActionButton,{color:\"secondary\",children:/*#__PURE__*/_jsx(CloseIcon,{fontSize:\"small\"})})]})]},item.id);})})]}),/*#__PURE__*/_jsx(TblPagination,{})]}),/*#__PURE__*/_jsx(Popup,{title:\"Employee Form\",openPopup:openPopup,setOpenPopup:setOpenPopup,children:/*#__PURE__*/_jsx(EmployeesForm,{recordForEdit:recordForEdit,addOrEdit:addOrEdit})})]});}","map":{"version":3,"sources":["/var/www/html/manishLiveWebsite/src/pages/Employees/Employees.js"],"names":["React","useState","EmployeesForm","PeopleOutlineTwoToneIcon","PageHeader","InputAdornment","makeStyles","Paper","TableBody","TableCell","TableRow","Toolbar","useTable","employeeService","Controls","Search","AddIcon","Popup","EditOutlined","CloseIcon","useStyles","theme","pageContent","margin","spacing","padding","searchInput","width","newButton","position","right","headCells","id","label","disableSorting","Employees","classes","recordForEdit","setRecordForEdit","getAllEmployees","records","setRecords","fn","items","filterFn","setfilterFn","openPopup","setOpenPopup","TblContainer","TblHead","TblPagination","recordsAfterPagingAndSorting","handleSearch","e","target","value","filter","x","fullName","toLowerCase","includes","addOrEdit","employee","resetForm","insertEmployee","updateEmployee","openInPopup","item","startAdorment","map","email","mobile","department"],"mappings":"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","sourcesContent":["import React, { useState } from 'react'\nimport EmployeesForm from './EmployeesForm';\nimport PeopleOutlineTwoToneIcon from '@material-ui/icons/PeopleOutlineTwoTone';\nimport PageHeader from '../../components/PageHeader';\nimport { InputAdornment, makeStyles, Paper, TableBody, TableCell, TableRow, Toolbar } from '@material-ui/core';\nimport useTable from '../../components/controls/useTable';\nimport * as employeeService from \"../../services/employeeService\";\nimport Controls from '../../components/controls/Controls';\nimport Search from '@material-ui/icons/Search';\nimport AddIcon from '@material-ui/icons/Add';\nimport Popup from '../../components/controls/Popup';\nimport EditOutlined from '@material-ui/icons/EditOutlined';\nimport CloseIcon from '@material-ui/icons/Close';\n\nconst useStyles = makeStyles(theme =>({\n    pageContent:{\n        margin:theme.spacing(5),\n        padding:theme.spacing(3)\n    },\n    searchInput:{\n        width:'75%'\n    },\n    newButton : {\n        position:'absolute',\n        right:'10px'\n    }\n}))\n\nconst headCells = [\n    {id:'fullName',label:'Employee Name'},\n    {id:'email',label:'Email Address (personal)'},\n    {id:'mobile',label:'Mobile Number'},\n    {id:'deparment',label:'Department',disableSorting:true},\n    {id:'actions', label:'Actions',disableSorting:true}\n]\n\nexport default function Employees(){\n\n    const classes = useStyles();\n    const [recordForEdit, setRecordForEdit] = useState(null)\n    const [records,setRecords] = useState(employeeService.getAllEmployees());\n    const [filterFn, setfilterFn] = useState({ fn: items => { return items; } })\n    const [openPopup, setOpenPopup] = useState(false);\n\n    const {\n        TblContainer,\n        TblHead,\n        TblPagination,\n        recordsAfterPagingAndSorting\n    } = useTable(records,headCells,filterFn);\n\n    const handleSearch = e =>  {\n        let target = e.target;\n        setfilterFn({\n            fn: items => {\n                if(target.value == \"\")\n                    return items;\n                else \n                    return items.filter(x => x.fullName.toLowerCase().includes(target.value))\n            }\n        })\n    }\n\n    const addOrEdit = (employee, resetForm) => {\n        if (employee.id == 0)\n            employeeService.insertEmployee(employee)\n        else\n            employeeService.updateEmployee(employee)\n            resetForm()\n            setRecordForEdit(null)\n            setOpenPopup(false)\n            setRecords(employeeService.getAllEmployees())\n    }\n\n    const openInPopup = item => {\n        setRecordForEdit(item)\n        setOpenPopup(true)\n    }\n\n    return (\n    <>\n        <PageHeader \n        title=\"New Employee\"\n        subTitle=\"Form design with validation\"\n        icon = {<PeopleOutlineTwoToneIcon fontSize='large'/>}\n        />\n        <Paper className={classes.pageContent}>\n        <Toolbar>\n            <Controls.Input\n                label=\"Search Employees\"\n                className = {classes.searchInput} \n                InputProps={{\n                    startAdorment: (<InputAdornment position=\"start\">\n                        <Search />\n                    </InputAdornment>)\n               }}\n               onChange={ handleSearch }\n            />\n            <Controls.Button \n                text = \"Add New\"\n                variant = \"outlined\"\n                className = {classes.newButton}\n                startIcon = {<AddIcon />}\n                onClick = {() => { setOpenPopup(true); setRecordForEdit(null);}}\n            />\n        </Toolbar>\n        <TblContainer>\n            <TblHead />\n            <TableBody>\n                {\n                    recordsAfterPagingAndSorting().map(item =>\n                        (<TableRow key={item.id}>\n                            <TableCell>{item.fullName}</TableCell>\n                            <TableCell>{item.email}</TableCell>\n                            <TableCell>{item.mobile}</TableCell>\n                            <TableCell>{item.department}</TableCell>\n                            <TableCell>\n                                <Controls.ActionButton\n                                    color=\"primary\"\n                                    onClick = {() => {openInPopup(item)}}>\n                                      <EditOutlined fontSize=\"small\" />\n                                </Controls.ActionButton>\n                                <Controls.ActionButton\n                                    color=\"secondary\">\n                                      <CloseIcon fontSize=\"small\" />\n                                </Controls.ActionButton>\n                            </TableCell>\n                        </TableRow>)\n                        )\n                }\n            </TableBody>\n        </TblContainer>\n        <TblPagination />\n        </Paper>\n        <Popup\n            title = \"Employee Form\"\n            openPopup = {openPopup}\n            setOpenPopup = {setOpenPopup}\n        >\n        <EmployeesForm \n            recordForEdit={recordForEdit}\n            addOrEdit={addOrEdit}/>\n        </Popup>\n    </>\n    )\n}"]},"metadata":{},"sourceType":"module"}